<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <title>dashboard</title>
  <script src="d3/d3.v3.js"></script>
  <script src="viz.js"></script>
  <link href="viz.css" rel="stylesheet">
  <style>
    .tooltip {
      position: absolute;
      width: 200px;
      height: auto;
      padding: 10px;
      background-color: white;
      -webkit-border-radius: 10px;
      -moz-border-radius: 10px;
      border-radius: 10px;
      border: 1px #000 solid;
      pointer-events: none;
    }
    .tooltip {
      display: none;
    }
    .tooltip p {
      margin: 0;
      font-family: sans-serif;
      font-size: 14px;
      line-height: 20px;
    }
  </style>
</head>
<body>
  <div id="nav-bar">
    <div><a href="index.html">home</a></div>
    <div><a href="histogram.html">histogram</a></div>
    <div><a href="line.html">line</a></div>
    <div><a href="map.html">map</a></div>
    <div><a href="scatter.html">scatter</a></div>
    <div><a href="dashboard.html"></a></div>
  </div>
  <div id="tooltip-map" class="tooltip"
       style="border: none; background: none; padding: 2px;">
    <p><strong>State: </strong><span id="State-map"></span></p>
    <p><strong>Profit: </strong><span id="Profit-map"></span></p>
  </div>
  <div id="tooltip-histogram" class="tooltip"
       style="border: none; background: none; padding: 2px;">
    <p><strong>Category: </strong><span id="Category-histogram"></span></p>
    <p><strong>SubCategory: </strong><span id="SubCategory-histogram"></span></p>
    <p><strong>Sales: </strong><span id="Sales-histogram"></span></p>
    <p><strong>Profit: </strong><span id="Profit-histogram"></span></p>
  </div>
  <svg id="map"></svg>
  <svg id="histogram"></svg>
</body>
  <script>
      const height = innerHeight - 50 - 26;
      const width  = document.body.clientWidth;

      const mapHeight = height*2/3;
      const mapWidth = width;
      const histogramHeight = height/3;
      const histogramWidth = width;

      mapSvg = d3.select("#map")
          .attr("height", mapHeight)
          .attr("width", mapWidth);

      histogramSvg = d3.select("#histogram")
          .attr("height", histogramHeight)
          .attr("width", histogramWidth);

      d3.csv("USA_Superstore_Orders_2016_en-US_viz.csv", function (data) {
          map(mapHeight, mapWidth, data);
          histogram(histogramHeight, histogramWidth, data);
      });
  </script>
</html>
